(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"7f1f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-primary"},[a("div",{staticClass:"q-px-xl q-py-xl bg-accent"},[a("q-breadcrumbs",{staticClass:"text-brown q-py-md",scopedSlots:t._u([{key:"separator",fn:function(){return[a("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"primary"}})]},proxy:!0}])},[a("q-breadcrumbs-el",{attrs:{label:"Home",icon:"home"}}),a("q-breadcrumbs-el",{attrs:{label:"預約體驗",icon:"navigation"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-10"},[a("q-stepper",{ref:"stepper",attrs:{"header-nav":"","alternative-labels":"",contracted:t.$q.screen.lt.sm,color:"primary",animated:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("q-step",{attrs:{name:1,title:"選擇日期、時段與人數",icon:"settings",done:t.done1}},[a("div",{staticClass:"row q-py-md"},[a("div",{staticClass:"col-md-6",attrs:{align:"center"}},[a("div",{staticClass:"q-py-md text-h6"},[t._v("請選擇日期")]),a("q-date",{attrs:{"navigation-min-year-month":"2022-03","navigation-max-year-month":"2022-12",mask:"YYYY-MM-DD"},model:{value:t.reservation.date,callback:function(e){t.$set(t.reservation,"date",e)},expression:"reservation.date"}})],1),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"q-pa-md text-h6"},[t._v("請選擇時間")]),a("div",{staticClass:"row q-gutter-md"},[a("div",{staticClass:"col-12 q-gutter-x-md"},[a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"10:00",value:"10:00"},{label:"11:00",value:"11:00"},{label:"12:00",value:"12:00"}]},on:{click:function(e){t.reservation.time,t.value}},model:{value:t.reservation.time,callback:function(e){t.$set(t.reservation,"time",e)},expression:"reservation.time"}})],1),a("div",{staticClass:"col-12 q-gutter-x-md"},[a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"13:00",value:"13:00"},{label:"14:00",value:"14:00"},{label:"15:00",value:"15:00"}]},on:{click:function(e){t.reservation.time,t.value}},model:{value:t.reservation.time,callback:function(e){t.$set(t.reservation,"time",e)},expression:"reservation.time"}})],1),a("div",{staticClass:"col-12 q-gutter-x-md"},[a("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"16:00",value:"16:00"},{label:"17:00",value:"17:00"},{label:"18:00",value:"18:00"}]},on:{click:function(e){t.reservation.time,t.value}},model:{value:t.reservation.time,callback:function(e){t.$set(t.reservation,"time",e)},expression:"reservation.time"}})],1)]),a("div",{staticClass:"q-px-md q-pt-xl q-pb-md text-h6"},[t._v("請輸入人數")]),a("div",{staticClass:"row q-gutter-md"},[a("div",{staticClass:"col-6 q-gutter-x-md"},[a("q-input",{ref:"num",attrs:{rounded:"",outlined:"",type:"number",label:"大人人數","lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"請輸入人數"},function(t){return t>=1&&t<=10||"請輸入1-10之間的數字(超過10人請直接來電預約)"}]},model:{value:t.reservation.adultNum,callback:function(e){t.$set(t.reservation,"adultNum",e)},expression:"reservation.adultNum"}})],1),a("div",{staticClass:"col-6 q-gutter-x-md"},[a("q-input",{ref:"num",attrs:{rounded:"",outlined:"",type:"number",label:"小孩人數","lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"請輸入人數"},function(t){return t>=0&&t<=10||"請輸入0-10之間的數字(超過10人請直接來電預約)"}]},model:{value:t.reservation.childNum,callback:function(e){t.$set(t.reservation,"childNum",e)},expression:"reservation.childNum"}})],1)])])]),a("q-stepper-navigation",{attrs:{align:"end"}},[a("q-btn",{attrs:{color:"primary",label:"下一步"},on:{click:function(){t.done1=!0,t.step=2}}})],1)],1),a("q-step",{attrs:{name:2,title:"填寫聯絡資料",icon:"create_new_folder",done:t.done2}},[a("div",{staticClass:"row q-py-md text-normal"},[a("div",{staticClass:"col-12 q-pt-md q-pb-xl text-h6",attrs:{align:"center"}},[t._v("請填寫預約人資料")]),a("div",{staticClass:"col-md-12 q-py-md q-gutter-md"},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-1"},[t._v("聯絡人姓名")]),a("div",{staticClass:"col-4"},[a("q-input",{attrs:{outlined:"",rules:[function(t){return t.length>1||"請輸入聯絡人姓名"}]},model:{value:t.reservation.name,callback:function(e){t.$set(t.reservation,"name",e)},expression:"reservation.name"}})],1),a("div",{staticClass:"col-3 flex justify-center"},[a("q-radio",{attrs:{val:"male",label:"先生"},model:{value:t.reservation.gender,callback:function(e){t.$set(t.reservation,"gender",e)},expression:"reservation.gender"}}),a("q-radio",{attrs:{val:"female",label:"女士"},model:{value:t.reservation.gender,callback:function(e){t.$set(t.reservation,"gender",e)},expression:"reservation.gender"}}),a("q-radio",{attrs:{val:"other",label:"其他"},model:{value:t.reservation.gender,callback:function(e){t.$set(t.reservation,"gender",e)},expression:"reservation.gender"}})],1),a("div",{staticClass:"col-2"})]),a("div",{staticClass:"row text-normal items-center"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-1"},[t._v("手機號碼")]),a("div",{staticClass:"col-6"},[a("q-input",{attrs:{outlined:"",rules:[function(t){return t.length>1||"請輸入手機號碼"}]},model:{value:t.reservation.phone,callback:function(e){t.$set(t.reservation,"phone",e)},expression:"reservation.phone"}})],1),a("div",{staticClass:"col-2"})]),a("div",{staticClass:"row text-normal items-center"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-1"},[t._v("email")]),a("div",{staticClass:"col-6"},[a("q-input",{attrs:{outlined:"",rules:[function(t){return!!t||"請輸入您的email"},t.isValidEmail],"lazy-rules":""},model:{value:t.reservation.email,callback:function(e){t.$set(t.reservation,"email",e)},expression:"reservation.email"}})],1),a("div",{staticClass:"col-3"})]),a("div",{staticClass:"row text-normal items-center"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-1"},[t._v("備註")]),a("div",{staticClass:"col-6"},[a("q-input",{attrs:{outlined:"",type:"textarea"},model:{value:t.reservation.remark,callback:function(e){t.$set(t.reservation,"remark",e)},expression:"reservation.remark"}})],1),a("div",{staticClass:"col-3"})])])]),a("q-stepper-navigation",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"上一步"},on:{click:function(e){t.step=1}}})],1),a("div",{staticClass:"col-6",attrs:{align:"end"}},[a("q-btn",{attrs:{color:"primary",label:"下一步"},on:{click:function(){t.done2=!0,t.step=3}}})],1)])])],1),a("q-step",{attrs:{name:3,title:"確認預約",icon:"add_comment",done:t.done3}},[a("div",{staticClass:"row q-pt-md q-pb-md text-normal"},[a("div",{staticClass:"col-12 q-pt-md  text-h6",attrs:{align:"center"}},[t._v("請確認預約資訊是否正確")]),a("div",{staticClass:"col-12 q-pb-xl text-normal text-grey",attrs:{align:"center"}},[t._v("如需修改可點選上方步驟返回")]),a("div",{staticClass:"col-12 q-gutter-y-md text-normal",attrs:{align:"center"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-xl",attrs:{align:"end"}},[t._v("預約日期：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v(t._s(t.reservation.date))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-xl",attrs:{align:"end"}},[t._v("預約時間：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v(t._s(t.reservation.time))])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6  q-pr-xl",attrs:{align:"end"}},[t._v("預約人數：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v("大人 "+t._s(t.reservation.adultNum)+" 人  小孩 "+t._s(t.reservation.childNum)+" 人")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-xl",attrs:{align:"end"}},[t._v("預約人姓名：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v(" "+t._s(t.reservation.name)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-xl",attrs:{align:"end"}},[t._v("手機號碼：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v(" "+t._s(t.reservation.phone)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-xl",attrs:{align:"end"}},[t._v("email：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v(" "+t._s(t.reservation.email)+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pr-xl",attrs:{align:"end"}},[t._v("備註：")]),a("div",{staticClass:"col-6",attrs:{align:"start"}},[t._v(t._s(t.reservation.remark))])])])]),a("q-stepper-navigation",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"上一步"},on:{click:function(e){t.step=2}}})],1),a("div",{staticClass:"col-6",attrs:{align:"end"}},[a("q-btn",{attrs:{color:"primary",label:"送出預約"},on:{click:t.reserve}})],1)])])],1)],1)],1),a("div",{staticClass:"col-md-1"})])],1)])},i=[],r={data(){return{step:1,done1:!1,done2:!1,done3:!1,reservation:{date:"",time:"",adultNum:"0",childNum:"0",name:"",gender:"",phone:"",email:"",remark:""}}},methods:{isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||"信箱格式錯誤"},async reserve(){try{await this.api.post("/reservations",this.reservation,{headers:{authorization:"Bearer "+this.$store.getters["user/user"].token}}),console.log(this.reservation),this.$router.push("/Member/MyReservations"),this.$q.dialog({parent:this,title:"成功",message:"預約成功"}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}catch(t){console.log(t),this.$q.dialog({parent:this,title:"錯誤",message:t.response.data.message}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}},reset(){this.done1=!1,this.done2=!1,this.done3=!1,this.step=1}},computed:{user(){return this.$store.getters["user/user"]}}},l=r,n=(a("e5cd"),a("2877")),o=a("ead5"),c=a("0016"),d=a("079e"),v=a("f531"),m=a("87fe"),u=a("52ee"),p=a("6a67"),C=a("27f9"),g=a("b19c"),b=a("9c40"),q=a("3786"),f=a("eebe"),x=a.n(f),h=Object(n["a"])(l,s,i,!1,null,"aeb5298a",null);e["default"]=h.exports;x()(h,"components",{QBreadcrumbs:o["a"],QIcon:c["a"],QBreadcrumbsEl:d["a"],QStepper:v["a"],QStep:m["a"],QDate:u["a"],QBtnToggle:p["a"],QInput:C["a"],QStepperNavigation:g["a"],QBtn:b["a"],QRadio:q["a"]})},"9f93":function(t,e,a){},e5cd:function(t,e,a){"use strict";a("9f93")}}]);